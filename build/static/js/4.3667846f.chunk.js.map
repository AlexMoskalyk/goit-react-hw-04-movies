{"version":3,"sources":["Components/moviesList/MoviesList.js","Components/searchBar/SearchBar.module.css","Components/searchBar/SearchBar.js","pages/MoviesPage.js"],"names":["MoviesList","movies","location","useLocation","map","movie","to","pathname","id","state","from","title","module","exports","SearchBar","onSubmit","useState","query","setQuery","e","preventDefault","className","styles","form","type","value","name","onChange","target","MoviesPage","history","useHistory","setMovies","prevQuery","search","slice","useEffect","api","then","push"],"mappings":"yFAAA,+BAoBeA,IAjBI,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OACdC,EAAWC,cACjB,OACE,6BACGF,EAAOG,KAAI,SAACC,GAAD,OACV,6BACE,cAAC,IAAD,CACEC,GAAI,CAAEC,SAAS,WAAD,OAAaF,EAAMG,IAAMC,MAAO,CAAEC,KAAMR,IADxD,SAGGG,EAAMM,SAJFN,EAAMG,W,mBCPvBI,EAAOC,QAAU,CAAC,KAAO,0B,iGCyBVC,EAtBG,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACnB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAaA,OACE,uBAAMH,SAPe,SAACI,GACtBA,EAAEC,iBACFL,EAASE,GACTC,EAAS,KAIuBG,UAAWC,IAAOC,KAAlD,UACE,uBAAOC,KAAK,OAAOC,MAAOR,EAAOS,KAAK,QAAQC,SAb3B,SAACR,GACtB,IAAMM,EAAQN,EAAES,OAAOH,MAEvBP,EAASO,MAWP,wBAAQD,KAAK,SAAb,wB,QCaSK,UA3BI,WACjB,IAAMC,EAAUC,cAEhB,EAA0Bf,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAA4BF,mBAAS,IAArC,mBAAOf,EAAP,KAAe+B,EAAf,KAGMC,EAFaH,EAAQ5B,SAAnBgC,OAEiBC,MAAM,GAE/BC,qBAAU,YACPH,GAAahB,IACZoB,IAAsBpB,GAASgB,GAAWK,KAAKN,KAChD,CAACf,EAAOgB,IAOX,OACE,qCACE,cAAC,EAAD,CAAWlB,SAPa,SAACE,GAC3BC,EAASD,GACTa,EAAQS,KAAK,CAAEL,OAAO,SAAD,OAAWjB,QAM9B,cAACjB,EAAA,EAAD,CAAYC,OAAQA","file":"static/js/4.3667846f.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\n\r\nconst MoviesList = ({ movies }) => {\r\n  const location = useLocation();\r\n  return (\r\n    <ul>\r\n      {movies.map((movie) => (\r\n        <li key={movie.id}>\r\n          <Link\r\n            to={{ pathname: `/movies/${movie.id}`, state: { from: location } }}\r\n          >\r\n            {movie.title}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default MoviesList;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchBar_form__2uv1K\"};","import React, { useState } from \"react\";\r\nimport styles from './SearchBar.module.css'\r\n\r\n\r\nconst SearchBar = ({ onSubmit }) => {\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const onHandleChange = (e) => {\r\n    const value = e.target.value;\r\n\r\n    setQuery(value);\r\n  };\r\n  const onHandleSubmit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(query);\r\n    setQuery(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={onHandleSubmit} className={styles.form}>\r\n      <input type=\"text\" value={query} name=\"query\" onChange={onHandleChange} />\r\n      <button type=\"submit\">Search</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchBar;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\n// import { useRouteMatch } from \"react-router\";\r\nimport MoviesList from \"../Components/moviesList/MoviesList\";\r\nimport SearchBar from \"../Components/searchBar/SearchBar\";\r\nimport * as api from \"../Components/services/API\";\r\n\r\nconst MoviesPage = () => {\r\n  const history = useHistory();\r\n  // const match = useRouteMatch();\r\n  const [query, setQuery] = useState(\"\");\r\n  const [movies, setMovies] = useState([]);\r\n  const { search } = history.location;\r\n\r\n  const prevQuery = search.slice(7);\r\n\r\n  useEffect(() => {\r\n    (prevQuery || query) &&\r\n      api.fetchMovieByQuery(query || prevQuery).then(setMovies);\r\n  }, [query, prevQuery]);\r\n\r\n  const onHandleQuerySubmit = (query) => {\r\n    setQuery(query);\r\n    history.push({ search: `query=${query}` });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <SearchBar onSubmit={onHandleQuerySubmit} />\r\n      <MoviesList movies={movies} />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}